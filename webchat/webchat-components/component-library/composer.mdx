The `Composer` component is where the user writes messages before sending them to the bot.
It is a crucial part of the Webchat UI, providing a text area for input, optional file uploads, and integration with the chat system.

![webchat-composer-img](../../assets/webchat-components_component-library_composer.png)

### Usage

<Note>
  The composer is designed to be used within the [Container](./container.mdx) component and alonside the
  [Header](./header.mdx) and [MessageList](./message-list.mdx) components.
</Note>

```tsx
import { Composer, useWebchatClient } from '@botpress/webchat'
import { useRef } from 'react'

const client = useWebchatClient({ clientId: '$CLIENT_ID$' }) // Insert your client id here
const textareaRef = useRef<HTMLTextAreaElement>(null)

// Other necessary components
  <Composer
    inputRef={textareaRef}
    disableComposer={false}
    isReadOnly={false}
    allowFileUpload={true}
    connected={client.clientState !== 'disconnected'}
    sendMessage={client.client?.sendMessage}
    uploadFile={client.client?.uploadFile}
    composerPlaceholder="Type a message..."
    showPoweredBy={true}
  />
// Other necessary components

```

### Props

#### `inputRef?: Ref<HTMLTextAreaElement>`

A React ref to access the underlying `<textarea>`, useful for controlling focus or measuring content.

#### `disableComposer?: boolean`

Disables the input field and sending capabilities when set to `true`.

#### `isReadOnly?: boolean`

Makes the input read-only, preventing users from typing messages while still allowing interaction.

#### `allowFileUpload?: boolean`

Enables or disables the file upload button.

#### `connected?: boolean`

Indicates whether the chat is connected. Useful for disabling inputs while offline.

#### `sendMessage?: (payload: Message) => void`

A callback function for sending messages composed by the user.

#### `uploadFile?: (file: File) => Promise<{ fileUrl: string; name: string; type: FileType }>`

Handles the file upload logic and returns file metadata upon success.

#### `composerPlaceholder?: string`

Placeholder text displayed in the input area. Comes from the configuration.

#### `showPoweredBy?: boolean`

Whether to show a "Powered by Botpress" label under the composer. Comes from the configuration.

#### `...props: ComponentProps<'div'>`

You can also pass standard `<div>` props to customize layout or styling.
