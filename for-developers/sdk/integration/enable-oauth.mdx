---
title: Enable OAuth
sidebarTitle: Allow installing with OAuth
---

Some Botpress maintained integrations allow Bot developers to install them using either a manual configuration with a bunch of tokens or by using OAuth, i.e. by clicking a big shiny button and authorizing the integration to access your information. This is the case of Slack, Github, Linear, Notion and many more.

This feature isn't limited to official Botpress integrations. You can also enable OAuth in your own integrations too. This guide walks you through how to do that.

## Steps

1. **Create an Application in the external service**

On the platform you're integrating with, create an OAuth application. This step varies per platform (Slack, GitHub, etc.), so refer to their documentation.

When asked for a redirect URI or webhook, use:

  https://webhook.botpress.cloud/integration/global/$YOUR_INTEGRATION_NAME

2. **Add a link template script in your integration definition**

In your integration definition, add a `config` type with a `linkTemplateScript` field. This field is a path to a `.vrl` script relative to your integration's directory. The script generates the OAuth URL that users will be redirected to when clicking the OAuth button in the integration UI.

For Slack, the link looks something like this:

```vrl
https://slack.com/oauth/v2/authorize?client_id={{ clientId }}&state={{ webhookId }}&redirect_uri={{ webhookUrl }}/oauth
```

Notes:
- The `state` parameter **must** contain the webhook ID — it's used by Botpress to identify which bot and which integration initiated the flow.
- The `redirect_uri` **must** be:
  `https://webhook.botpress.cloud/oauth`

When the OAuth flow completes, the platform will redirect to this URL, and Botpress will forward the request to your integration's webhook handler.

3. **Handle the `/oauth` path in your integration**

In your integration implementation, handle incoming requests with the `/oauth` path.

Your code should:

- Extract the access token and any other relevant data from the request
- Store the token in an integration's [state](./concepts#states)
- Call `configureIntegration` to associate the integration with a user or workspace ID from the third-party platform

4. **Add an `identifier` with an `extractScript`**

In your integration definition, add an `identifier` field with an `extractScript`:

```ts
identifier: {
  extractScript: 'extract-id.vrl'
}
```

This script is used when receiving incoming requests on the global webhook. It should extract an external user or workspace ID from the request. Botpress uses this ID to route the request to the correct bot.

## Use global secrets

If your OAuth flow requires credentials like client_id or client_secret, you can provide them using global [secrets](./concepts#secrets). These can be accessed from your VRL scripts or code.

Once all of this is set up, users installing your integration will be able to authenticate with a single click — just like they can with Slack, GitHub, and other official integrations.
