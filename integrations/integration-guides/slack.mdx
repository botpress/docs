---
description: Add a bot to Slack using the official integration.
icon: '/integrations/integration-guides/assets/icons/slack.svg'
---

{/* vale off */}

import integrationVersions from '/snippets/integrations/versions.mdx'
import { OpenInHub } from '/snippets/integrations/open-in-hub.jsx'
import Cards from '/snippets/integrations/cards/botpress/slack.mdx'
import Triggers from '/snippets/integrations/triggers/botpress/slack.mdx'

<OpenInHub integration={integrationVersions.slack}/>


import JsonManifest from "/snippets/integrations/slack-manifest-json.mdx"
import YamlManifest from "/snippets/integrations/slack-manifest-yaml.mdx"

{/* vale on */}

The official Slack integration allows members of your Slack workspace to chat with your bot via a Slack app.

## Setup

<Tabs>
  <Tab title="Automatic configuration">
    <Info>
      You will need:

      - A [published bot](/get-started/quick-start)
      - A [Slack workspace](https://slack.com/get-started?entry_point=help_center#/createnew)
    </Info>

    1. In Botpress Studio, select **Explore Hub** in the upper-right corner.
    2. Search for the **Slack** integration, then select **Install Integration**.
    3. In the **Configuration** menu, select **Authorize Slack**.
    4. Follow the instructions to connect Botpress to your Slack account.
  </Tab>
  <Tab title="Manual configuration">
    For advanced use cases, you can use your own Slack app with our integration.

    <Info>
      You will need:

      - A [published bot](/get-started/quick-start)
      - A [Slack workspace](https://slack.com/get-started?entry_point=help_center#/createnew)
      </Info>

      {/* ### Step 1: Install the Slack integration in Botpress */}

      <Steps titleSize="h3">
        <Step title="Install the Slack integration in Botpress">

        1. In Botpress Studio, select **Explore Hub** in the upper-right corner.
        2. Search for the **Slack** integration, then select **Install Integration**.
        3. In the **Configuration** menu, select the drop-down menu, then select **Configure by manually supplying the refresh token and signing secret**.
        4. Leave the configuration fields empty for now—you'll come back to them after you've setup your Slack app.

        </Step>

      {/* ### Step 2: Create a Slack app */}

        <Step title="Create a Slack app">

        Next, you'll need to create a Slack app for your bot:

        1. Open a new tab and go to your [Slack API portal](https://api.slack.com/apps). Login if you haven't already.
        2. Select **Create New App**, then **From a manifest**.
        3. Select the workspace you want to connect your bot to.
        4. Erase everything in the field, then paste this code:

        <CodeGroup>
          <JsonManifest/>
          <YamlManifest/>
        </CodeGroup>

        5. Select **Create**. This creates a Slack app with all the necessary scopes and subscriptions for the Botpress Slack integration.

        </Step>

      {/* ### Step 3: Install the app to your workspace */}

        <Step title="Install the app to your workspace">

        Next, you need to install the app to your Slack workspace and enable token rotation:

        1. Navigate to **OAuth and Permissions** in the left navigation bar of your Slack app's settings.
        2. Under OAuth Tokens, select **Install to (your workspace name)**, then follow the on-screen instructions to authorize the app.

        <Warning>
          Make sure you follow this step before moving on—otherwise, you won't be able to install the app to your workspace.
        </Warning>

        3. Scroll up to **Advanced token security via token rotation**, then select **Opt In**.

        </Step>

      {/* ### Step 4: Configure the integration in Botpress */}

        <Step title="Configure the integration in Botpress">

        Now you can use your app's credentials to fill in the configuration fields from [Step 1](#step-1-install-the-slack-integration-in-botpress):

        <AccordionGroup>
          <Accordion
            title="Slack Refresh Token or Bot Token"
          >
            1. Navigate to **OAuth & Permissions** in the left navigation bar of your Slack app's settings.
            2. Copy the **Bot User OAuth Token**.
            3. Paste it into the **Slack Refresh Token or Bot Token** field.
          </Accordion>
          <Accordion
            title="Slack Client ID"
          >
            1. Navigate to **Basic Information** in the left navigation bar of your Slack app's settings.
            2. Copy the **Client ID**.
            3. Paste into the **Slack Client ID** field.
          </Accordion>
          <Accordion
            title="Slack Client Secret"
          >
            1. Navigate to **Basic Information** in the left navigation bar of your Slack app's settings.
            2. Copy the **Client secret**.
            3. Paste into the **Slack Client Secret** field.
          </Accordion>
          <Accordion
            title="Slack Signing Secret"
          >
            1. Navigate to **Basic Information** in the left navigation bar of your Slack app's settings.
            2. Copy the **Signing secret**.
            3. Paste into the **Slack Signing Secret** field.
          </Accordion>
        </AccordionGroup>

        When all the fields have been filled in, scroll down and select **Save Configuration**. This automatically activates the integration.

        </Step>

      {/* ### Step 5: Add the integration's webhook URL */}

        <Step title="Add the integration's webhook URL">

        All you need to do now is add the integration's webhook URL to your Slack app:

        1. Scroll up and copy the webhook URL at the top of the integration's **Configuration** menu. It should start with `webhook.botpress.cloud`.
        2. Go back to your Slack app's settings. Navigate to the **Event Subscriptions** section.
        3. In the **Request URL** field, erase the placeholder webhook URL and paste your actual webhook URL.
        4. Select **Save Changes** at the bottom of the page.

        </Step>
      </Steps>

      <Check>
        Your Slack integration is ready. Within your Slack workspace, you can search for the app and add it to any channel—it should respond as your bot.
      </Check>
  </Tab>
</Tabs>

---

## Options

The Slack integration's **Configuration** menu offers a few additional options:

### Custom display name / avatar

- Fill in the **Bot name** field to display a custom name as the sender in Slack conversations.
- Fill in the **Bot avatar URL** field to set a custom image as the bot's Slack avatar.

<Note>
  The image should be square, at least 512x512 pixels, and no larger than 1024x1024 pixels. The URL must be publicly accessible. Supported formats include GIF, PNG, JPG, JPEG, HEIC, and HEIF.
</Note>

### Typing indicator emoji

When the **Typing indicator emoji** option is enabled, the bot will [react](https://www.google.com/url?sa=t&source=web&rct=j&opi=89978449&url=https://slack.com/help/articles/202931348-Use-emoji-and-reactions&ved=2ahUKEwjkjonOtueOAxXug4kEHWXTNBsQFnoECBcQAQ&usg=AOvVaw0_PwUudKr3nwqdIQhPpFza) to incoming messages with an emoji to indicate that it's processing the message.

### Reply threading

When the **Reply Threading Enabled** option is enabled, the bot will reply to incoming messages in [threads](https://slack.com/help/articles/115000769927-Use-threads-to-organize-discussions).

If you want the bot to only reply in a thread when [mentioned](https://slack.com/help/articles/205240127-Use-mentions-in-Slack), enable the **Require Bot Mention for Reply Threading** option.

{/* TODO: test and revise steps below */}
{/* <Note>
  Enabling reply threading alone doesn't stop your bot from posting in the main channel. To restrict responses exclusively to threads, modify your Workflow to terminate when receiving messages from the main channel:

  1. Insert a Standard Node at the very beginning of your Main Workflow. Then, connect it to your existing Workflow.
  2. Add an [expression Card](/studio/concepts/cards/flow-logic#expression) to the Standard Node.
  3. Set the expression Card's condition to `event.channel === 'channel'`.
  TODO: modify conditional to account for other channel types
  3. Create an End Card and connect the expression Card to it.
</Note> */}

## Limitations

Here are some limitations with the Slack integration:

### API rate limits

Standard Slack API limits apply to the Slack integration in Botpress. These include rate limits, message size restrictions, and other constraints imposed by the Slack platform. Ensure that your bot adheres to these limits to maintain optimal performance and reliability.

<Note>
  For more information, check out the [Slack API documentation](https://api.slack.com/apis/rate-limits).
</Note>

### Rich text processing

Slack uses a proprietary markup language, [mrkdwn](https://api.slack.com/reference/surfaces/formatting#lists), to format rich text in messages. Since Botpress uses [standard Markdown](https://www.markdownguide.org/cheat-sheet/) for rich text, we convert incoming `mrkdwn` messages from Slack to Markdown. This is to ensure that:

- Studio's interface can read them properly
- Botpress' AI inference engine can understand them

However, any outgoing AI-generated messages your bot sends to the Slack integration will still be rendered in Markdown by default. This means **rich text messages from your bot may not be rendered properly in Slack** without additional processing.

---

## Cards

<Cards />

---

## Triggers

<Triggers />

---

## Tags

You can read [event tags](/studio/guides/advanced/event-properties#param-tags) to get information about an active Slack conversation:

### Slack conversation ID

To get the Slack conversation ID:

`event.tags.conversation["slack:id"]`

### Slack thread ID

To get the Slack conversation thread ID (if it's a thread):

`event.tags.conversation["slack:thread"]`

### Slack user ID

To get the Slack user ID:

`event.tags.user["slack:id"]`

### Slack message ID

To get the Slack message ID:

`event.tags.message["slack:id"]`
