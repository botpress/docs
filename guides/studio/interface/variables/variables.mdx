---
title: Variables
description: Containers for storing and reusing information in Botpress Studio.
sidebarTitle: Overview
---

Variables let you **store information** from somewhere in Botpress Studio and **reuse it somewhere else**.

<Tip>
Think of a variable like an **empty box**. You can fill it with any kind of information you want — like a name, a number, or a preference — and put it away for safekeeping. Then, when your bot needs that information again, it can open the box and access what's inside.
</Tip>

## Variable scopes

You can use different types of variables to **scope** the information you store. For example, you might want some information to:

- [Remain available for all conversations with some user](/guides/studio/interface/variables/user) (for example, their name and address)
- [Persist only throughout a single conversation](https://) (for example, items in a virtual shopping cart)
- [Be safely accessible across all your bot's activity](https://) (for example, API tokens and other secrets)

Select any variable scope to learn more about it:

<CardGroup cols={2}>
  <Card
    title="Workflow variables"
    href="href"
  >
    Only available within the current Workflow
  </Card>
  <Card
    title="User variables"
    href="href"
  >
    Available for all conversations with a user
  </Card>
  <Card
    title="Conversation variables"
    href="href"
  >
    Only available within the current conversation
  </Card>
  <Card
    title="Bot variables"
    href="href"
  >
    Available throughout all your bot's activity
  </Card>
  <Card
    title="Configuration variables"
    href="href"
  >
    Available throughout all your bot's activity, but can't be displayed to users
  </Card>
</CardGroup>

## Data types for variables

Botpress variables are **typed**, meaning they are limited in what data they can hold.These data types are important to:

- Ensure the code behind Botpress runs smoothly
- Help AI tasks generate better results

Here are the different data types available for Botpress variables:

------

## Variable Scopes

Botpress also includes different types of variables. These Variable types differ in scope or where they can be accessed in your bot's flows.

### Creating Variables in Botpress

1. Open up the Variables tab from the sidebar and click the **+** icon in the Variables section.
2. A new window will appear, allowing you to formulate a new Variable.
3. Assign a suitable scope (Workflow, Bot or User) to your Variable, select the Data Type (see below table), give it a name, and click **Add** to create the Variable.
4. (Optional) From the Additional Settings, you can also initialize your Variable with a default value.

### Using Variables in Botpress

Once the Variable is established, employ `{{workflow.variablename}}` or `@workflow.variablename` to render it in a send message card.


## Data Types for Variables

Botpress variables are typed, meaning they are limited in what data they can hold. Not only are these data types important to ensure the code behind Botpress runs smoothly, but these types also help AI tasks generate better results. Here are the different data types available for Botpress variables:

<table>
  <thead>
    <tr>
      <th>
        Type
      </th>

      <th>
        Description
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        String
      </td>

      <td>
        Values that are treated as text. Strings can contain any amount of letters, numbers, or special characters. <br/> <br/> Example uses: Storing a user's name, storing an AI task's generated message.
      </td>
    </tr>

    <tr>
      <td>
        Boolean
      </td>

      <td>
        Variables can be true or false, with a lowercase 't' or 'f'. <br/> <br/>Example uses: Storing if a user is a returning customer, storing whether the bot has greeted the user or not
      </td>
    </tr>

    <tr>
      <td>
        Number
      </td>

      <td>
        Variables that are numeric, either with or without decimal places. <br/> <br/>Example uses: Storing a user's phone number, storing an address's area code
      </td>
    </tr>

    <tr>
      <td>
        Date
      </td>

      <td>
        Variables that are a single date or date and time. Botpress uses ISO 8601 date/time format, such as `20220921T10:34:14` for `21 September 2023 at 10:34 AM` (with 14 seconds). <br/> <br/>Example uses: Storing when the user starts a chat, storing a user's appointment date
      </td>
    </tr>

    <tr>
      <td>
        Object
      </td>

      <td>
        Variable that is a collection of key-value pairs. Useful when dealing with code and written like `{key: value}`. <br/> <br/>Example uses: Storing a user's profile, storing the results of an API call
      </td>
    </tr>

    <tr>
      <td>
        Array
      </td>

      <td>
        Variable that is a collection of other, similar variables. Arrays can contain strings, like `[“a”, “b”, “c”]`, or Objects like `[{key:value},{key:value}]`. <br/> <br/>Example uses: Storing a user's past messages, storing options for the user to choose from
      </td>
    </tr>

    <tr>
      <td>
        Enum
      </td>

      <td>
        Variable that can be one of a set number of choices. <br/> <br/>Example uses: Storing days of the week, storing items available from a food menu
      </td>
    </tr>

    <tr>
      <td>
        Pattern
      </td>

      <td>
        Variable that uses Regular Expressions/Regex to store a special pattern. This pattern can match certain words or numbers.<br/> <br/>Example uses: Storing account numbers, storing flight numbers
      </td>
    </tr>
  </tbody>
</table>

## Passing Variables between Flows

1. In your target workflow, define an input Variable from the workflow properties window.
2. Toggle it `ON` on the `Entry node` of the target workflow.
3. Now, on the `exit` node of the parent workflow, the one that brings the user to the target workflow, match the parent workflow Variable with the target workflow input Variable.
4. Now, when you call the target workflow from the parent workflow, you will see the input Variable in the card. You can pass a value or a Variable to it.


## Using Variables in Code Card

Variables in code follow the pattern `variabletype.variablename`. Here's a breakdown and examples of how to use these:

### 1. Assigning a Value to a Variable

This is typically how you'd initialize a variable or change its value.

```javascript
workflow.orderNumber = 12345
session.cartTotal = 59.99
user.lastName = 'Smith'
bot.version = '1.2.3'
env.databaseURL = 'https://example.com/db'
```

### 2. Using Variables in Conditional Statements

This checks the value of a variable and executes code accordingly.

```javascript
if (user.firstName === 'John') {
  console.log('Hello John!')
} else {
  console.log('Welcome, user!')
}
```

### 3. Using Variables in Functions

Here, you might pass a variable as a function argument or use it inside a function.

```javascript
function greetUser(firstName) {
  console.log('Hello, ' + firstName + '!')
}

greetUser(user.firstName)
```

### 4. Combining Variables

You might want to combine or concatenate variables.

```javascript
var fullName = user.firstName + ' ' + user.lastName

//or

var welcomeMessage = 'Hello, ' + user.firstName + ' ' + user.lastName + '!'
```

### 5. Checking Variable Type

Botpress might throw an error if types don't match, you can use type checking before assigning values.

```javascript
if (typeof workflow.userAcctId === 'number') {
  workflow.userAcctId = 67890 // This is okay.
} else {
  console.error('Invalid type for userAcctId!')
}
```

### 6. Using Variables with External APIs

If your bot interacts with external services, you might use an environment variable like env.apiKey.

```javascript
const apiKey = env.API_KEY
const apiUrl = env.API_URL

const config = {
  headers: {
    Authorization: `Bearer ${apiKey}`,
  },
}

const response = await axios.get(apiUrl, config)
const data = response.data

// Process the data as needed
// ...

// Example: Log the response data
console.log(data)
```


## Special Variables

Botpress makes available several different variables that can be used in your bot's code. These variables are useful for debugging and for accessing information about the user and conversation.

| Path                                                                            | Type        | Description                                                                                                                                                                                                                                  |
| ------------------------------------------------------------------------------- | ----------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `event.preview`                                                                 | Event       | The last message sent by the user. It will be replaced every time there is a new message.                                                                                                                                                    |
| `conversation.SummaryAgent.summary`                                             | Agent       | Summary of the conversation created by the [Summary Agent](/guides/studio/interface/agents/summary-agent). It's an explanation of what happened.                                                                                                              |
| `conversation.SummaryAgent.transcript`                                          | Agent       | Transcript of the conversation going back a certain amount of turns.                                                                                                                                                                         |
| `turn.KnowledgeAgent.answer`                                                    | Agent       | The answer provided by the [Knowledge Agent](/guides/studio/interface/agents/knowledge-agent)                                                                                                                                                                 |
| `turn.KnowledgeAgent.responded`                                                 | Agent       | Wether the Knowledge Agent has responded automatically to a user question. Its value will be `true` or `false`                                                                                                                               |
| `turn.KnowledgeAgent?.answer?.length`                                           | Agent       | The amount of characters in the Knowledge answer. Use this in an [Expression](/guides/studio/cards/flow-logic#expression) to check if there is an answer in the KB. Optionally add `!` to start of the code in order to check if there was NOT an answer. |
| `turn.KnowledgeAgent.citations`                                                 | Agent       | A list of citations for the Knowledge answer.                                                                                                                                                                                                |
| `user.TranslatorAgent.language`                                                 | Agent       | The current user language code in ISO 639-1 format. [More about the Translator Agent](/guides/studio/interface/agents/translator-agent)                                                                                                                        |
| `user.TranslatorAgent.language = 'en'`                                          | Agent       | This code snippet set's the user language to English. Replace with any language code in the ISO 639-1 format                                                                                                                                 |
| `event.kb.results.map((a) => a.dsFriendlyName + '\n' + a.content).join('\n\n')` | Event       | This code snippet returns the raw content that generated the final Knowledge answer.                                                                                                                                                         |
| `event.tags.conversation['whatsapp:userPhone']`                                 | Integration | The user's phone number on WhatsApp. Includes the international code.                                                                                                                                                                        |
| `event.tags.conversation['whatsapp:phoneNumberId']`                             | Integration | The phone number Id of the bot on WhatsApp.                                                                                                                                                                                                  |
