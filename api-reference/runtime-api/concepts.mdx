---
title: "Concepts"
---

## Bot

Bots can't be accessed directly from the Runtime API. Instead, they are manageable in [the Admin API](../admin-api/concepts.mdx#bot). However, they are still a core concept of the Runtime API.

{/* TODO: fill */}

## Integration

{/* TODO: fill */}

## Definitions and Instances

Two categories of objects exist in the Botpress Runtime API: **definitions** and **instances**. Each concept listed below is first defined in the integration or bot definition and then instantiated during the bot or integration execution.

### Message

Messages are the core of the Botpress Runtime API. The Integration Definition is responsible for providing message definitions, i.e., defining each available message type and their respective payload schemas.

The message instance is the actual message sent to the bot or integration. It must conform to the schema defined in the message definition for the corresponding type. Here's the TypeScript type of a message object:

{/* TODO(driftable): This type is subject to changes and should be auto-generated */}
```ts
type Message = {
    id: string;
    createdAt: string;
    type: string;
    payload: { [k: string]: any; };
    direction: "incoming" | "outgoing";
    userId: string;
    conversationId: string;
    tags: { [k: string]: string; };
}
```

### Direction

In the Runtime API, messages have a **direction**.

When a user sends a message from an external messaging service (e.g., WhatsApp), the external service sends a request to the Botpress API which is handled by the integration. The integration will then call the runtime API to create a message. Since this message originates externally, it is classified as **incoming**.

Conversely, when a bot generates a response, it creates a message via the Runtime API, which is then sent to the external service through the integration. Since this message originates within Botpress, it is classified as **outgoing**.

Thus, message direction is determined by whether the message was created by the integration (incoming) or by the bot (outgoing).

### User and Conversation ID

A message is sent by a user as part of a conversation. Since bots can send messages, they are also considered users. The `userId` and `conversationId` properties identify the sender and the conversation context.

### Tags

Tags are key-value pairs used to store additional metadata about a message. Only tags defined in the message definition can be used. See [Tags](#tags) for more information.

### Built-in Message Types

Although integrations can define custom message types, the Botpress Runtime API enforces a set of built-in message types that must be supported:

- **text**: `{ text: string; }`
- **image**: `{ imageUrl: string; }`
- **audio**: `{ audioUrl: string; }`
- **video**: `{ videoUrl: string; }`
- **file**: `{ fileUrl: string; }`
- **location**: `{ latitude: number; longitude: number; address?: string; title?: string; }`
- **carousel**: `{ items: Card[]; }`
- **card**: `{ title: string; subtitle?: string; imageUrl?: string; actions: CardAction[]; }`
- **dropdown**: `{ options: DropdownOption[]; }`
- **choice**: `{ text: string; options: { label: string; value: string; }[]; }`
- **bloc**: Composite message that can contain multiple message types.

Custom message types must be compatible with these built-in types and cannot override them. This means that if an integration defines a message type `text`, the payload must be compatible with `{ text: string; }`. It can add type constraints like new properties to the payload, but it can not remove them.

## Conversation

A conversation represents a series of exchanged messages between a different users including a bot. Conversations are tracked by their `conversationId`.

## User

A user represents an entity interacting with the bot. Each user has a unique `userId`. Users can be human users or bots (for automated responses in multi-bot setups).

## Event

{/* TODO: fill */}

## State

{/* TODO: fill */}

## Tags

Tags provide additional metadata for messages, users, or conversations. They help categorize and filter data for analytics, automation, or custom logic.

## Workflows

{/* TODO: fill */}

## Actions

{/* TODO: fill */}